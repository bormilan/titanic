---
title: "Titanic Temalabor"
output: html_notebook
---

Olvassuk be az adatokat:
```{r}
train <- read.csv('train.csv')
test <- read.csv('test.csv')
valid <- read.csv('gender_submission.csv')
```

Elemezzuk a tipusaikat es ertekeiket:
```{r}
str(train)
sapply(train, function(y) sum(length(which(is.na(y)))))
sapply(train, function(y) sum(length(which(y == ""))))
```
Tehat az Age oszlopban 177 na ertek van, ezert ezeket a sorokat torolni kell.
A Cabin oszlopban pedig 687 ures rekord, ezert az egeszet eldobom, ugyanis igy nem veszem hasznat.
Az embarked oszlopban van meg ket ures rekord, ezekbe egyesevel beletoltom az oszlop legtobbszor megjeleno erteket.

```{r}
backup <- train
train <- backup
train <- na.omit(train)

train$Cabin <- NULL

nulls <- train[train$Embarked == "",]
table(train$Embarked)
train[train$Name == "Icard, Miss. Amelie","Embarked"] <- "C"
train[train$Name == "Stone, Mrs. George Nelson (Martha Evelyn)","Embarked"] <- "C"
```


Nezzuk meg hogy az utasok hany szazaleka elte tul a tanito adathalmazban:
```{r}
temp <- table(train$Survived == 1)
pct <- (temp[2] / (temp[1] + temp[2]))*100
cat(round(pct,2),"%")
```
nezzuk meg hogy a tulelok hogyan oszlanak meg nemek szerint:
```{r}
f_sex <- factor(train$Sex)
f_survived <- factor(train$Survived)
males <- length(train[train$Survived == 1 & train$Sex == "male","Name"])
females <- length(train[train$Survived == 1 & train$Sex == "female","Name"])
all_survived <- males + females
cat("Összesen túlélte:",all_survived,"ember, ebből",females," nő, és",males,"férfi")
```

Nezzuk meg az emberek korainak eloszlasat:
```{r}
plot(x = train$Sex, y = train$Age,
col ="blue", pch = 1, cex = 1.5,
main = "Utasok kor eloszlása nem szerint",
xlab = "",
ylab = "Kor"
)
```
Most nezzuk meg hogy ez hogy nez ki, ha csak a tuleloket vesszuk bele:
```{r}
survived <- train[train$Survived == 1,]

plot(x = survived$Sex, y = survived$Age,
col ="blue", pch = 1, cex = 1.5,
main = "Utasok kor eloszlása nem szerint",
xlab = "",
ylab = "Kor"
)
```















